// PID declarations  generated by parsepids.py  Jan 30, 2018  13:07:02

#ifndef PID_H
#define PID_H

#define CONFIG_PID 0x00 	// for exchanging configurations on a link: spid + specifics; ie testframe
#define SPS_ACK 0x1 	// confirm sps; link only - not networkable
#define SPS 0x2 	// used for initializing SPS frame acks and setting id
#define PING 0x3 	// to check other end
#define PING_BACK 0x4 	// expected response to a PING
#define GET_VERSION 0x5 	// get the version number
#define VERSION_NO 0x6 	// return the version number
#define TALK_IN 0x7 	// keyboard input to be interpreted
#define TALK_OUT 0x8 	// used to send emits out usb port
#define EVAL_PID 0x9 	// evaluate text with destination; who, text
#define CALL_CODE 0xa 	// call code starting at this location; who, addr32
#define MEMORY 0xb 	// use for memory transactions: read/write/erase/confirm...
#define FILES 0xc 	// user for file transactions: read/write/delete/...
#define AT_CMD 0xd 	// pass through for talking to embedded AT modems
#define PROBE 0xe 	// probe to determine internal states
#define MAX_PIDS 0xf 	// number of PIDS defined

#define FOR_EACH_PID(P) \
        P(EVAL_PID) /* 0x9 */ \
        P(TALK_OUT) /* 0x8 */ \
        P(PING) /* 0x3 */ \
        P(SPS) /* 0x2 */ \
        P(SPS_ACK) /* 0x1 */ \
        P(CONFIG_PID) /* 0x00 */ \
        P(VERSION_NO) /* 0x6 */ \
        P(GET_VERSION) /* 0x5 */ \
        P(PING_BACK) /* 0x4 */ \
        P(TALK_IN) /* 0x7 */ \
        P(FILES) /* 0xc */ \
        P(MEMORY) /* 0xb */ \
        P(CALL_CODE) /* 0xa */ \
        P(MAX_PIDS) /* 0xf */ \
        P(PROBE) /* 0xe */ \
        P(AT_CMD) /* 0xd */ \

// Macros
#define ACK_BIT 0x80 	// used for indicating SPS frames
#define SPS_BIT 0x40 	// used for indicating type of an SPS frame
#define PID_BITS (0xFF&(~(ACK_BIT|SPS_BIT))) 	// used to mask off upper bits
#define WHO_PIDS (SPS_ACK) 	// all pids greater than, use the who header for routing
#define MAX_FRAME_LENGTH 254 	// no more than 254; set according to link resources
#define MAX_FRAMES 30 	// number of frames floating around system
#define SPS_RETRIES 5 	// maximum number of SPS retries
#define SFP_POLL_TIME 2 	// polling in link down
#define SFP_SPS_TIME 2500 	// time between retransmissions
#define SFP_FRAME_TIME 50 	// maximum time to wait between bytes for a frame
#define SFP_FRAME_PROCESS 1000 	// maximum time to wait for frame processing
#define STALE_RX_FRAME 1000 	// number of milliseconds to hang onto a received frame
#define NUM_LINKS 2 	// number of links per node

// Whos
#define DIRECT 0 	//
#define HOST (DIRECT) 	// Aliases
#define ME (DIRECT) 	//
#define YOU (DIRECT) 	//
#define MAIN_CPU 0x1 	// target cpu main port
#define MAIN_HOST 0x2 	// host port through serial
#define ETM_HOST 0x3 	// host side through ETM
#define ROUTING_POINTS 0x4 	// number of points for routing

#endif
